<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>featuremapper.analysis.hypercolumns &mdash; FeatureMapper 0.1a documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1a',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/custom.js"></script>
    <link rel="top" title="FeatureMapper 0.1a documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">FeatureMapper Home</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="featuremapper-module.html">Reference Manual</a></li>







      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="featuremapper-analysis-hypercolumns">
<h1>featuremapper.analysis.hypercolumns<a class="headerlink" href="#featuremapper-analysis-hypercolumns" title="Permalink to this headline">¶</a></h1>
<p class="graphviz">
<img src="../_images/inheritance-a169c46ac94f0c609db54c5cd9ed303f0c99a844.png" alt="Inheritance diagram of featuremapper.analysis.hypercolumns" usemap="#inheritance4ea281de0a" class="inheritance"/>
<map id="inheritance4ea281de0a" name="inheritance4ea281de0a">
<area shape="rect" id="node1" title="A ViewOperation takes one or more views as inputs and processes" alt="" coords="370,3,505,18"/>
<area shape="rect" id="node4" href="#featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis" title="Estimation of hypercolumn distance in a cyclic preference map from" alt="" coords="533,3,764,18"/>
<area shape="rect" id="node2" title="Acts like a Python function, but with arguments that are Parameters." alt="" coords="171,3,343,18"/>
<area shape="rect" id="node6" title="Base class for named objects that support Parameters and message" alt="" coords="3,3,145,18"/>
</map>
</p>
<div class="section" id="module-featuremapper.analysis.hypercolumns">
<span id="module"></span><h2>Module<a class="headerlink" href="#module-featuremapper.analysis.hypercolumns" title="Permalink to this headline">¶</a></h2>
<p>This module is used to analyse the hypercolumn structure of preference
maps. Currently thsi file offers a means to estimate the hypercolumn
distance from the Fourier power spectrum but different types of
analysis (eg. wavelet analysis) may be introduced in future.</p>
<dl class="class">
<dt id="featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis">
<em class="property">class </em><tt class="descclassname">featuremapper.analysis.hypercolumns.</tt><tt class="descname">PowerSpectrumAnalysis</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/featuremapper/analysis/hypercolumns.html#PowerSpectrumAnalysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://ioam.github.io/dataviews/Reference_Manual/dataviews.operation-module.html#dataviews.operation.ViewOperation" title="(in DataViews v2014.05.14)"><tt class="xref py py-class docutils literal"><span class="pre">dataviews.operation.ViewOperation</span></tt></a></p>
<p>Estimation of hypercolumn distance in a cyclic preference map from
the size of the ring in the fourier power spectrum, following the
methods described in the in the supplementary materials of
<a href="#id1"><span class="problematic" id="id2">``</span></a>Universality in the Evolution of Orientation Columns in the
Visual Cortex&#8217;&#8216;, Kaschube et al. 2010.</p>
<p>If supplied with a preference overlayed with pinwheels, the
pinwheel_density is computed from kmax (the wavenumber of highest
power) using the equation:</p>
<p>rho = pinwheel count/(kmax**2)</p>
<p>This is then used to generate a map quality estimate (with unit
range) based on the pi-pinwheel density criterion.</p>
<dl class="docutils">
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">init_fit</span></tt> (<em>allow_None=True, constant=False, default=None, instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If set to None, an initial fit is automatically selected for
       the curve fitting procedure. Otherwise, this is a dictionary of
       the initial coefficients for equation (7) from the 2010 Science
       paper mentioned above (supplementary materials). For instance,
       the values used in the GCAL (Stevens et al. 2013):

       init_fit = dict(a0=0.35, a1=3.8, a2=1.3, a3=0.15, a4=-0.003, a5=0)

       These coefficients may be understood as follows:

        a0 =&gt; Gaussian height.
        a1 =&gt; Peak x-axis position.
        a2 =&gt; Gaussian spread (ie. variance).
        a3 =&gt; Baseline value (without falloff).
        a4 =&gt; Linear falloff.
        a5 =&gt; Quadratic falloff.</dd>
<dt><em>param Callable</em> <tt class="docutils literal"><span class="pre">averaging_fn</span></tt> (<em>constant=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>The averaging function used to collapse the power spectrum at each
      wavenumber down to a scalar value. By default, finds the mean
      power for each wavenumber.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">gamma_k</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=1.8, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=False, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>The degree to which the gamma kernel is heavily tailed when
      squashing the pinwheel density into a unit map metric.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">fit_table</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether or not to add table listing the fit coefficients at the
      end of the output layout.</dd>
</dl>
<dl class="method">
<dt id="featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.KaschubeFit">
<tt class="descname">KaschubeFit</tt><big>(</big><em>k</em>, <em>a0</em>, <em>a1</em>, <em>a2</em>, <em>a3</em>, <em>a4</em>, <em>a5</em><big>)</big><a class="reference internal" href="../_modules/featuremapper/analysis/hypercolumns.html#PowerSpectrumAnalysis.KaschubeFit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.KaschubeFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitting function used by Kaschube for finding the hypercolumn
distance from the Fourier power spectrum. These values should
match the init_fit defaults of pinwheel_analysis below.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.averaging_fn">
<em class="property">static </em><tt class="descname">averaging_fn</tt><big>(</big><em>a</em>, <em>axis=None</em>, <em>dtype=None</em>, <em>out=None</em>, <em>keepdims=False</em><big>)</big><a class="headerlink" href="#featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.averaging_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the arithmetic mean along the specified axis.</p>
<p>Returns the average of the array elements.  The average is taken over
the flattened array by default, otherwise over the specified axis.
<cite>float64</cite> intermediate and return values are used for integer inputs.</p>
<dl class="docutils">
<dt>a <span class="classifier-delimiter">:</span> <span class="classifier">array_like</span></dt>
<dd>Array containing numbers whose mean is desired. If <cite>a</cite> is not an
array, a conversion is attempted.</dd>
<dt>axis <span class="classifier-delimiter">:</span> <span class="classifier">int, optional</span></dt>
<dd>Axis along which the means are computed. The default is to compute
the mean of the flattened array.</dd>
<dt>dtype <span class="classifier-delimiter">:</span> <span class="classifier">data-type, optional</span></dt>
<dd>Type to use in computing the mean.  For integer inputs, the default
is <cite>float64</cite>; for floating point inputs, it is the same as the
input dtype.</dd>
<dt>out <span class="classifier-delimiter">:</span> <span class="classifier">ndarray, optional</span></dt>
<dd>Alternate output array in which to place the result.  The default
is <tt class="docutils literal"><span class="pre">None</span></tt>; if provided, it must have the same shape as the
expected output, but the type will be cast if necessary.
See <cite>doc.ufuncs</cite> for details.</dd>
<dt>keepdims <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd>If this is set to True, the axes which are reduced are left
in the result as dimensions with size one. With this option,
the result will broadcast correctly against the original <cite>arr</cite>.</dd>
</dl>
<dl class="docutils">
<dt>m <span class="classifier-delimiter">:</span> <span class="classifier">ndarray, see dtype parameter above</span></dt>
<dd>If <cite>out=None</cite>, returns a new array containing the mean values,
otherwise a reference to the output array is returned.</dd>
</dl>
<p>average : Weighted average
std, var, nanmean, nanstd, nanvar</p>
<p>The arithmetic mean is the sum of the elements along the axis divided
by the number of elements.</p>
<p>Note that for floating-point input, the mean is computed using the
same precision the input has.  Depending on the input data, this can
cause the results to be inaccurate, especially for <cite>float32</cite> (see
example below).  Specifying a higher-precision accumulator using the
<cite>dtype</cite> keyword can alleviate this issue.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">2.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">array([ 2.,  3.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([ 1.5,  3.5])</span>
</pre></div>
</div>
<p>In single precision, <cite>mean</cite> can be inaccurate:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">512</span><span class="o">*</span><span class="mi">512</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">0.546875</span>
</pre></div>
</div>
<p>Computing the mean in float64 is more accurate:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="go">0.55000000074505806</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.estimate_hypercolumn_distance">
<tt class="descname">estimate_hypercolumn_distance</tt><big>(</big><em>power_spectrum</em><big>)</big><a class="reference internal" href="../_modules/featuremapper/analysis/hypercolumns.html#PowerSpectrumAnalysis.estimate_hypercolumn_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.estimate_hypercolumn_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimating the hypercolumn distance by fitting Equation 7 of
Kaschube et al. 2010 Equation 7 (supplementary
material). Returns the analysed values as a dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.fit_samples">
<tt class="descname">fit_samples</tt><big>(</big><em>max_k</em>, <em>samples</em>, <em>fit</em><big>)</big><a class="reference internal" href="../_modules/featuremapper/analysis/hypercolumns.html#PowerSpectrumAnalysis.fit_samples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.fit_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a curve based from the fit coefficients</p>
</dd></dl>

<dl class="method">
<dt id="featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.gamma_dist">
<tt class="descname">gamma_dist</tt><big>(</big><em>x</em>, <em>k</em>, <em>theta</em><big>)</big><a class="reference internal" href="../_modules/featuremapper/analysis/hypercolumns.html#PowerSpectrumAnalysis.gamma_dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.gamma_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>The gamma distribution used for the gamma metric</p>
</dd></dl>

<dl class="method">
<dt id="featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.gamma_metric">
<tt class="descname">gamma_metric</tt><big>(</big><em>pwd</em><big>)</big><a class="reference internal" href="../_modules/featuremapper/analysis/hypercolumns.html#PowerSpectrumAnalysis.gamma_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.gamma_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>The heavily-tailed gamma kernel used to squash the pinwheel
density into unit range. The maximum value of unity is
attained when the input pinwheel density is pi.</p>
</dd></dl>

<dl class="method">
<dt id="featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.wavenumber_spectrum">
<tt class="descname">wavenumber_spectrum</tt><big>(</big><em>spectrum</em><big>)</big><a class="reference internal" href="../_modules/featuremapper/analysis/hypercolumns.html#PowerSpectrumAnalysis.wavenumber_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#featuremapper.analysis.hypercolumns.PowerSpectrumAnalysis.wavenumber_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bins the power values in the 2D FFT power spectrum as a
function of wavenumber (1D). Requires square FFT spectra with
an odd dimension to work to ensure there is a central sample
corresponding to the DC component (wavenumber zero).</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div align="center"><h1>FeatureMapper</h1></div>
<ul class="global-toc">

<li><a href="../index.html">Home</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="featuremapper-module.html">Reference Manual</a></li>
<li><a href="http://github.com/ioam/featuremapper">Github Source Code</a></li>
<li><a href="../site_map.html">Site Map</a></li>
</ul>
<h3><a href="../index.html">Table Of Contents</a></h3>

<ul>
<li><a class="reference internal" href="#">featuremapper.analysis.hypercolumns</a><ul>
<li><a class="reference internal" href="#module-featuremapper.analysis.hypercolumns">Module</a></li>
</ul>
</li>
</ul>


<h3>This Page</h3>
<ul class="this-page-menu">
	<li><a	href="https://github.com/ioam/featuremapper/edit/master/doc/Reference_Manual/featuremapper.analysis.hypercolumns-module.rst" rel="nofollow">Edit on GitHub</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">FeatureMapper Home</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="featuremapper-module.html">Reference Manual</a></li>







      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, IOAM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>